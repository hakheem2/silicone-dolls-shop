{% load static %}
<style>
    /* Import Google Fonts */
    @import url("https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap");

.blog-section{
     /* Reset box model and spacing */
    *,
    *::before,
    *::after {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
    }


    .card-container {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        justify-content: center;
        max-width: 1200px;
        margin: 0 auto;
        gap: 2rem;
    }

    img {
        max-width: 100%;
        display: block;
        object-fit: cover;
    }

    /* Card styles */
    .card {
        display: flex;
        flex-direction: column;
        width: clamp(20rem, calc(20rem + 2vw), 22rem);
        overflow: hidden;
        box-shadow: 0 .1rem 1rem rgba(0, 0, 0, 0.1);
        border-radius: 1em;
        background: #ECE9E6;
        background: linear-gradient(to right, #FFFFFF, #ECE9E6);
    }

    .card__header{
        img{
            max-width: 100%;
            height: 250px;
            display: block;
            object-fit: cover;
        }
    }

    .card__body {
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: .5rem;
    }

    /* Tag styles */
    .tag {
        align-self: flex-start;
        padding: .25em .75em;
        border-radius: 1em;
        font-size: .75rem;
    }

    .tag + .tag {
        margin-left: .5em;
    }

    .tag-blue {
        background: #56CCF2;
        background: linear-gradient(to bottom, #2F80ED, #56CCF2);
        color: #fafafa;
    }

    .tag-brown {
        background: #D1913C;
        background: linear-gradient(to bottom, #FFD194, #D1913C);
        color: #fafafa;
    }

    .tag-red {
        background: #cb2d3e;
        background: linear-gradient(to bottom, #ef473a, #cb2d3e);
        color: #fafafa;
    }

    .card__body h4 {
        font-size: 1.5rem;
        text-transform: capitalize;
    }

    .card__footer {
        display: flex;
        padding: 1rem;
        margin-top: auto;
    }

    /* User info styles */
    .user {
        display: flex;
        gap: .5rem;
    }

    .user__image {
        border-radius: 50%;
        width: 60px;
        
    }

    .user__info > small {
        color: #666;
    }

    .header{

        .title{
            margin: 0;   
        }

        @media (min-width: 768px) {
            .title{
                margin-left: 100px;
            }
        }
    } 
}
</style>

<section class="blog-section">
    <!-- Card Container -->
    <div class="container bg-white rounded shadow-sm w-100 mx-auto mb-5" style="padding: 80px 10px;">
        <div class="d-flex header pb-4 text-center">
            <div class="title col col-12 col-md-6 text-center text-md-start pb-3">
                <h6 class="bg-success mx-auto mx-md-0 text-white rounded-pill poppins-semibold px-3 py-1" style="font-size: 1rem;margin-bottom: 20px; width: fit-content;">BLOG</h6>
                <h2 class="section-title raleway-semibold text-capitalize">Our Latest Blog Post</h2>
                <p class="raleway-medium text-center text-md-start pt-2" style="font-size: 1.1rem;">
                    Stay updated with our latest news, tips, and stories to help you connect more with your reborne baby
                </p>
            </div>
            <div class="blog-link col col-12 col-md-3 offset-md-3 d-none d-md-block text-end">
                <a href="{% url 'blog' %}" class="btn btn-lg btn-success rounded px-5 py-2 h5 text-white">Visit Blog</a>
            </div>
            
        </div>
        <div class="card-container">
        <!-- Card 1: Technology -->
            <div class="card">
                <div class="card__header">
                    <img src="{% static 'images/blog_post_2.avif' %}" alt="card__image" class="card__image" width="600">
                </div>
                <div class="card__body">
                    <span class="tag tag-blue">Doll Guide</span>
                    <h4>5 Things to Know Before Buying a Silicone Baby</h4>
                    <p>New to this world? Here’s what you need to know to choose your perfect doll.</p>
                </div>
                <div class="card__footer">
                    <div class="user">
                        <img src="{% static 'images/avatar.jpg' %}" alt="user__image" class="user__image">
                        <div class="user__info">
                            <h5>@carolineheuss</h5>
                            <small class="timeago" data-time="2024-03-22T22:00:00Z"></small>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card 2: Food -->
            <div class="card">
                <div class="card__header">
                    <img src="{% static 'images/blog-post-image.avif' %}" alt="card__image" class="card__image" width="600">
                </div>
                <div class="card__body">
                    <span class="tag tag-blue">Doll Care</span>
                    <h4>How to Care for Your Silicone Baby Doll</h4>
                    <p>How to Care for Your Silicone Baby Doll</p>
                </div>
                <div class="card__footer">
                    <div class="user">
                        <img src="{% static 'images/avatar.jpg' %}" alt="user__image" class="user__image">
                        <div class="user__info">
                            <h5>@carolineheuss</h5>
                            <small class="timeago" data-time="2023-02-22T22:00:00Z"></small>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card 3: Automobile -->
            <div class="card">
                <div class="card__header">
                    <img src="{% static 'images/lady_baby_care.avif' %}" alt="card__image" class="card__image" width="600">
                </div>
                <div class="card__body">
                    <span class="tag tag-blue">Doll Care</span>
                    <h4>Race to your heart content</h4>
                    <p>Learn the proper cleaning, dressing, and storage techniques to keep your silicone baby beautiful for years.</p>
                </div>
                <div class="card__footer">
                    <div class="user">
                        <img src="{% static 'images/avatar.jpg' %}" alt="user__image" class="user__image">
                        <div class="user__info">
                            <h5>@carolineheuss</h5>
                            <small class="timeago" data-time="2024-06-22T22:00:00Z"></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
         <div class="link-wrapper text-center mt-5">
            <a href="{% url 'blog' %}" class="post-link raleway-medium text-muted">visit → post</a>
        </div>
    </div>
</section>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  function timeAgo(time) {
    const now = new Date();
    const past = new Date(time);
    const seconds = Math.floor((now - past) / 1000);

    if (seconds < 60) return 'just now';
    const minutes = Math.floor(seconds / 60);
    if (minutes < 60) return `${minutes} minute${minutes !== 1 ? 's' : ''} ago`;
    const hours = Math.floor(minutes / 60);
    if (hours < 24) return `${hours} hour${hours !== 1 ? 's' : ''} ago`;
    const days = Math.floor(hours / 24);
    if (days < 30) return `${days} day${days !== 1 ? 's' : ''} ago`;
    const months = Math.floor(days / 30);
    if (months < 12) return `${months} month${months !== 1 ? 's' : ''} ago`;
    const years = Math.floor(days / 365);
    return `${years} year${years !== 1 ? 's' : ''} ago`;
  }

  function updateTimeAgo() {
    $('.timeago').each(function () {
      const datetime = $(this).data('time');
      const agoText = timeAgo(datetime);
      $(this).text(agoText);
    });
  }

  // Run on load
  $(document).ready(function () {
    updateTimeAgo();

    // Update every 1 minute
    setInterval(updateTimeAgo, 60000);
  });
</script>

